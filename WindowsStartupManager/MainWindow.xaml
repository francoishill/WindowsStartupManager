<Window x:Class="WindowsStartupManager.MainWindow"
		xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
		xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
		xmlns:local='clr-namespace:WindowsStartupManager'
		Title="MainWindow"
		Loaded='Window_Loaded'
		SizeToContent='WidthAndHeight'
		WindowStartupLocation='Manual'
		WindowStyle='None'
		UseLayoutRounding='True'
		ShowInTaskbar='True'
		Topmost='True'
		ShowActivated='False'
		SizeChanged='Window_SizeChanged'
		PreviewMouseDoubleClick='Window_PreviewMouseDoubleClick'
		Closing='Window_Closing'
		PreviewMouseWheel='Window_PreviewMouseWheel'>
	<Window.Resources>
		<local:ApplicationStatusToBrushConverter x:Key='applicationStatusToBrushConverter' />
	</Window.Resources>
	<DockPanel Name='mainDockPanel'
			   LastChildFill='True'>
		<DockPanel DockPanel.Dock='Top' HorizontalAlignment='Center'>
			<StackPanel Orientation='Horizontal'>
				<Button Content='Get from registry'
						HorizontalAlignment='Center'
						Background='Transparent'
						Click='Button_Click_1' />
				<Label Name='cpuUsage' />
			</StackPanel>
		</DockPanel>
		<DockPanel DockPanel.Dock='Right'
				   Margin='4 0'>
			<Button DockPanel.Dock='Top'
					VerticalAlignment='Top'
					Padding='4 0'
					Click='Button_Click'>x</Button>
			<Button DockPanel.Dock='Top'
					VerticalAlignment='Bottom'
					Padding='4 0'
					Click='Button_Click'>x</Button>
		</DockPanel>
		<Grid>
			<ListBox Name='listBox1'
					 SelectionChanged='listBox1_SelectionChanged'
					 BorderThickness='0'>
				<ListBox.ItemTemplate>
					<DataTemplate>
						<StackPanel Orientation='Horizontal'>
							<Button Click='ApplicationButton_Click'
									ToolTip='{Binding ApplicationFullPath}'>
								<ContentPresenter>
									<ContentPresenter.Content>
										<DockPanel LastChildFill='True'>
											<TextBlock Text='{Binding ApplicationArguments}'
													   DockPanel.Dock='Right'
													   Foreground='Gray'
													   Margin='5 0' />
											<TextBlock Text='{Binding DisplayName}'></TextBlock>
										</DockPanel>
									</ContentPresenter.Content>
								</ContentPresenter>
							</Button>
							<Label Content='{Binding ApplicationStatusString}'
								   Foreground='{Binding ApplicationStatus, Converter={StaticResource applicationStatusToBrushConverter}}' />
						</StackPanel>
					</DataTemplate>
				</ListBox.ItemTemplate>
			</ListBox>
			<Label Name='labelPleaseWait'
				   Content='Please wait while loading application list...'
				   Foreground='Green'
				   FontSize='20'
				   BorderThickness='0' />
		</Grid>
	</DockPanel>
</Window>
